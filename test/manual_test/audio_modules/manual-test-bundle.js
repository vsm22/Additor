!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=47)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.min=t.min,this.max=t.max,this.enum=t.enum,this.transform=t.transform}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constraintMap=[[]],this._parseMap(t,this.constraintMap[0],this.constraintMap)}return i(e,[{key:"constrain",value:function(e){var t=this;t.constraintMap.forEach(function(n){t._constrainBranch(e,n)})}},{key:"_applyConstraint",value:function(e,t,n){return void 0!==t.min&&(e[n]=Math.max(e[n],t.min)),void 0!==t.max&&(e[n]=Math.min(e[n],t.max)),void 0!==t.enum&&t.enum instanceof Array&&(e[n]=void 0!==t.enum.find(e[n])?e[n]:t.enum[0]),void 0!==t.transform&&"function"==typeof t.transform&&(e[n]=t.transform(e[n])),e}},{key:"_parseMap",value:function(e,t,n){var i=this;if(e instanceof Array)t.push("_arr_"),i._parseMap(e[0],t,n);else if(e instanceof Object&&!(e instanceof o.default)){var r=t.map(function(e){return e});Object.keys(e).forEach(function(o,a){if(0===a)t.push(o),i._parseMap(e[o],t,n);else{var u=r.map(function(e){return e});n.push(u),u.push(o),i._parseMap(e[o],u,n)}})}else e instanceof o.default&&t.push(e)}},{key:"_constrainBranch",value:function(e,t){for(var n=void 0,i=t[t.length-1],o=!1,r=0;r<t.length-2&&!o;++r)if("_arr_"===(n=t[r])){o=!0;for(var a=t.slice(r+1,t.length),u=0;u<e.length;++u)this._constrainBranch(e[u],a)}else e=e[n];if(!o)if("_arr_"===(n=t[t.length-2]))for(var s=0;s<e.length;++s)this._applyConstraint(e,i,s);else this._applyConstraint(e,i,n)}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(10)),a=i(n(11)),u=i(n(12)),s=i(n(13)),c=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t||!(t instanceof Element))throw new Error("widget requires a DOM element specifying its container as the first argument");this.container=t,n=n||{},this.svg=document.createElementNS(this.SVG_NS,"svg"),this.container.appendChild(this.svg),this.svg.setAttribute("width",this.container.getBoundingClientRect().width),this.svg.setAttribute("height",this.container.getBoundingClientRect().height),this.o={},this.svgEls={},this.handlers={},this.state={},this.stateConstraints={},this.observers=[],this._initOptions(n),this._initStateConstraints(),this._initState(),this._initSvgEls(),this._initHandlers()}return o(e,[{key:"_initOptions",value:function(e){}},{key:"_initStateConstraints",value:function(){}},{key:"_initState",value:function(){}},{key:"_initSvgEls",value:function(){}},{key:"_appendSvgEls",value:function(){function e(n){n instanceof Array?n.forEach(function(t){return e(t)}):(t.svg.appendChild(n),n.setAttribute("shape-rendering","geometricPrecision"))}var t=this;Object.values(t.svgEls).forEach(function(t){e(t)})}},{key:"_initHandlers",value:function(){}},{key:"_update",value:function(){}},{key:"getVal",value:function(){}},{key:"setInternalVal",value:function(e){}},{key:"setVal",value:function(e){}},{key:"getState",value:function(){}},{key:"setInternalState",value:function(e){}},{key:"setState",value:function(e){}},{key:"_getRelativeX",value:function(e){return e-this._getLeft()}},{key:"_getRelativeY",value:function(e){return e-this._getTop()}},{key:"_getWidth",value:function(){return this.svg.getBoundingClientRect().width}},{key:"_getHeight",value:function(){return this.svg.getBoundingClientRect().height}},{key:"_getTop",value:function(){return this.svg.getBoundingClientRect().top}},{key:"_getLeft",value:function(){return this.svg.getBoundingClientRect().left}}]),e}();Object.assign(c.prototype,r.default),Object.assign(c.prototype,a.default),Object.assign(c.prototype,u.default),Object.assign(c.prototype,s.default),t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(i(n(6)),i(n(19))),a=i(n(20)),u=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioCtx=t,this.isAudioModule=!0,!0!==this.audioCtx.isWebAudioConnectShimmed&&(0,r.default)(this.audioCtx),this.input=t.createGain(),this.output=t.createGain(),this.audioComponents={},this._initAudioComponents(),this._initAudioParams()}return o(e,[{key:"_initAudioComponents",value:function(){}},{key:"_initAudioParams",value:function(){}},{key:"_initOptions",value:function(){}},{key:"getContext",value:function(){return this.audioCtx}},{key:"connect",value:function(e,t,n){!0===e.isAudioModule?this.output.connect(e.input):this.output.connect(e)}},{key:"disconnect",value:function(e,t,n){!0===e.isAudioModule?this.output.disconnect(e.input):this.output.disconnect(e)}}]),e}();Object.assign(u.prototype,a.default),t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(3)),a=i(n(8)),u=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"_initAudioComponents",value:function(){try{(0,a.default)(this.audioCtx,["Gain","StereoPanner"]),this.audioComponents={inputGain:this.input,panner:this.audioCtx.createStereoPanner(),outputGain:this.output},this.audioComponents.inputGain.connect(this.audioComponents.panner),this.audioComponents.panner.connect(this.audioComponents.outputGain)}catch(e){console.error(e)}}},{key:"_initAudioParams",value:function(){this.inputGain=this.audioComponents.inputGain.gain,this.outputGain=this.audioComponents.outputGain.gain,this.pan=this.audioComponents.panner.pan}},{key:"getInputGain",value:function(){return this.audioComponents.inputGain.gain.value}},{key:"setInputGain",value:function(e){this.audioComponents.inputGain.gain.value=e}},{key:"getPan",value:function(){return this.audioComponents.panner.pan.value}},{key:"setPan",value:function(e){this.audioComponents.panner.pan.value=e}},{key:"getOutputGain",value:function(){return this.audioComponents.outputGain.gain.value}},{key:"setOutputGain",value:function(e){this.audioComponents.outputGain.gain.value=e}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={getPrecision:function(e){var t=(""+e).split(".")[1];return t?t.length:0},round:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},quantize:function(e,t,n){var o=void 0;return 0==t?0:(t<0&&(t=Math.abs(t)),o=~~(e/t)*t,o=Math.abs(e-o)>t/2?o>0?o+t:o-t:o,void 0!==n&&(o=i.round(o,n)),o)},q:function(e,t,n){return i.quantize(e,t,n)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={midiToFreq:function(e,t){t=t||440;var n=-1;return-1!==e&&(n=440*Math.pow(2,(e-69)/12)),n},noteNameToMidi:function(e){var t=/^([a-g]|[A-G])(#|b)?([0-9]|10)$/;if(!1===t.test(e))return console.log("AudioModuleUtil.noteNameToMidi: invalid note name format"),-1;var n=t.exec(e),i=n[1],o=n[2],r=n[3],a={A:9,a:9,B:11,b:11,C:0,c:0,D:2,d:2,E:4,e:4,F:5,f:5,G:7,g:7}[i];"#"===o?a++:"b"===o&&a--;return a+12*r},noteNameToFreq:function(e,t){return t=t||440,i.midiToFreq(i.noteNameToMidi(e),t)}};t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(3)),a=i(n(8)),u=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"_initAudioComponents",value:function(){try{(0,a.default)(this.audioCtx,["Gain"]),this.audioComponents={envGain:this.audioCtx.createGain()},this.input.connect(this.audioComponents.envGain),this.audioComponents.envGain.connect(this.output)}catch(e){console.error(e)}}},{key:"_initOptions",value:function(e){this.o={attackEnvelope:[[0,0],[.05,1],[1,1]],releaseEnvelope:[[0,1],[.5,1],[1,0]]},function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initOptions",this).call(this,e)}},{key:"getAttackEnvelope",value:function(){return this.o.attackEnvelope}},{key:"setAttackEnvelope",value:function(e){return this.o.attackEnvelope=e,this}},{key:"getReleaseEnvelope",value:function(){return this.o.releaseEnvelope}},{key:"setReleaseEnvelope",value:function(e){return this.o.releaseEnvelope=e,this}},{key:"attack",value:function(){var e=this.audioCtx.currentTime,t=this.o.attackEnvelope,n=0,i=e,o=t[0][1],r=e+t[0][0];this.audioComponents.envGain.gain.setValueAtTime(n,i),this.audioComponents.envGain.gain.linearRampToValueAtTime(o,r);for(var a=0;a<t.length-1;a++)n=t[a][1],i=e+t[a][0],o=t[a+1][1],r=e+t[a+1][0],this.audioComponents.envGain.gain.setValueAtTime(n,i),this.audioComponents.envGain.gain.linearRampToValueAtTime(o,r);return n=t[t.length-1][1],i=e+t[t.length-1][0],this.audioComponents.envGain.gain.setValueAtTime(n,i),new Promise(function(e,n){window.setTimeout(function(){e(t)},t[t.length][0])})}},{key:"release",value:function(){var e=this.audioCtx.currentTime,t=this.o.releaseEnvelope,n=0,i=e,o=t[0][1],r=e+t[0][0];this.audioComponents.envGain.gain.cancelScheduledValues(e);for(var a=0;a<t.length-1;a++)n=t[a][1],i=e+t[a][0],o=t[a+1][1],r=e+t[a+1][0],this.audioComponents.envGain.gain.setValueAtTime(n,i),this.audioComponents.envGain.gain.linearRampToValueAtTime(o,r);return 0!==t[t.length-1][1]&&(n=0,i=e+t[t.length-1][0]+.001,this.audioComponents.envGain.gain.linearRampToValueAtTime(n,i)),new Promise(function(e,n){window.setTimeout(function(){e(t)},t[t.length][0])})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t.forEach(function(t){switch(t){case"Analyser":if("function"!=typeof e.createAnalyser)throw new Error("Required module AnalyserNode is not available in provided Audio Context and could not be shimmed.");break;case"AudioBuffer":if("function"!=typeof e.createBuffer)throw new Error("Required module AudioBufferNode is not available in provided Audio Context and could not be shimmed.");break;case"AudioBufferSource":if("function"!=typeof e.createBufferSource)throw new Error("Required module AudioBufferSourceNode is not available in provided Audio Context and could not be shimmed.");break;case"BiquadFilter":if("function"!=typeof e.createBiquadFilter)throw new Error("Required module BiquadFilterNode is not available in provided Audio Context and could not be shimmed.");break;case"ChannelMerger":if("function"!=typeof e.createChannelMerger)throw new Error("Required module ChannelMergerNode is not available in provided Audio Context and could not be shimmed.");break;case"ChannelSplitter":if("function"!=typeof e.createChannelSplitter)throw new Error("Required module ChannelSplitterNode is not available in provided Audio Context and could not be shimmed.");break;case"Convolver":if("function"!=typeof e.createConvolver)throw new Error("Required module ConvolverNode is not available in provided Audio Context and could not be shimmed.");break;case"Delay":if("function"!=typeof e.createDelay)throw new Error("Required module DelayNode is not available in provided Audio Context and could not be shimmed.");break;case"DynamicsCompressor":if("function"!=typeof e.createDynamicsCompressor)throw new Error("Required module DynamicsCompressorNode is not available in provided Audio Context and could not be shimmed.");break;case"Gain":if("function"!=typeof e.createGain)throw new Error("Required module GainNode is not available in provided Audio Context and could not be shimmed.");break;case"IIRFilter":if("function"!=typeof e.createIIRFilter)throw new Error("Required module IIRFilterNode is not available in provided Audio Context and could not be shimmed.");break;case"Oscillator":if("function"!=typeof e.createOscillator)throw new Error("Required module OscillatorNode is not available in provided Audio Context and could not be shimmed.");break;case"Panner":if("function"!=typeof e.createPannerr)throw new Error("Required module PannerNode is not available in provided Audio Context and could not be shimmed.");break;case"StereoPanner":"function"!=typeof e.createStereoPanner&&(e.createStereoPanner=function(){return new StereoPannerShim(e)});break;default:console.warn("A check for AudioContext feature ",t,"is being requested, but no matching check is implemented")}})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},a=i(n(2)),u=i(n(0)),s=i(n(1)),c=i(n(5)),l=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"getVal",value:function(){return this.state.val}},{key:"setInternalVal",value:function(e){this.setInternalState({val:e})}},{key:"setVal",value:function(e){this.setState({val:e})}},{key:"setOptions",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setOptions",this).call(this,e),this.o.stepPrecision=c.default.getPrecision(this.o.step)}},{key:"_initOptions",value:function(e){this.o={minVal:0,maxVal:127,step:1,needleColor:"#414141",activeColor:"#f40",mouseSensitivity:1.2},r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initOptions",this).call(this,e),this.o.stepPrecision=c.default.getPrecision(this.o.step)}},{key:"_initStateConstraints",value:function(){var e=this;this.stateConstraints=new s.default({val:new u.default({min:e.o.minVal,max:e.o.maxVal,transform:function(t){return c.default.quantize(t,e.o.step,e.o.stepPrecision)}})})}},{key:"_initState",value:function(){this.state={val:0}}},{key:"_initSvgEls",value:function(){this.svgEls={bgArc:document.createElementNS(this.SVG_NS,"path"),activeArc:document.createElementNS(this.SVG_NS,"path"),needle:document.createElementNS(this.SVG_NS,"line")},this.svgEls.bgArc.setAttribute("d",this._calcSvgArcPath(this._calcNeedleCenter().x,this._calcNeedleCenter().y,this._calcDialRadius(),.67*Math.PI,2.35*Math.PI)),this.svgEls.bgArc.setAttribute("stroke-width",this._calcArcStrokeWidth()),this.svgEls.bgArc.setAttribute("stroke",this.o.needleColor),this.svgEls.bgArc.setAttribute("fill","transparent"),this.svgEls.bgArc.setAttribute("stroke-linecap","round"),this.svgEls.activeArc.setAttribute("stroke-width",this._calcArcStrokeWidth()),this.svgEls.activeArc.setAttribute("stroke",this.o.activeColor),this.svgEls.activeArc.setAttribute("fill","transparent"),this.svgEls.activeArc.setAttribute("stroke-linecap","round"),this.svgEls.needle.setAttribute("x1",this._calcNeedleCenter().x),this.svgEls.needle.setAttribute("y1",this._calcNeedleCenter().y),this.svgEls.needle.setAttribute("x2",this._calcNeedleEnd().x),this.svgEls.needle.setAttribute("y2",this._calcNeedleEnd().y),this.svgEls.needle.setAttribute("stroke-width",this._calcNeedleWidth()),this.svgEls.needle.setAttribute("stroke",this.o.needleColor),this.svgEls.needle.setAttribute("z-index","1000"),this.svgEls.needle.setAttribute("stroke-linecap","round"),this._appendSvgEls(),this._update()}},{key:"_initHandlers",value:function(){var e=this,t=0,n=0,i=e.getState().val;this.handlers={touch:function(n){t=n.clientY,document.addEventListener("mousemove",e.handlers.move),document.addEventListener("touchmove",e.handlers.move),document.addEventListener("mouseup",e.handlers.release),document.addEventListener("touchend",e.handlers.release)},move:function(o){o.preventDefault(),n=t-o.clientY,t=o.clientY,i=e.state.val+n*e.o.mouseSensitivity*e._calcMovePrecision(),i=Math.max(i,e.o.minVal),i=Math.min(i,e.o.maxVal),e.setState({val:i})},release:function(){document.removeEventListener("mousemove",e.handlers.move),document.removeEventListener("touchmove",e.handlers.move)}},this.svg.addEventListener("mousedown",e.handlers.touch),this.svg.addEventListener("touchstart",e.handlers.touch)}},{key:"_update",value:function(){this.svgEls.needle.setAttribute("x1",this._calcNeedleCenter().x),this.svgEls.needle.setAttribute("y1",this._calcNeedleCenter().y),this.svgEls.needle.setAttribute("x2",this._calcNeedleEnd().x),this.svgEls.needle.setAttribute("y2",this._calcNeedleEnd().y),this.svgEls.activeArc.setAttribute("d",this._calcSvgArcPath(this._calcNeedleCenter().x,this._calcNeedleCenter().y,this._calcDialRadius(),.65*Math.PI,this._calcNeedleAngle()-.5*Math.PI)),this.state.val===this.o.minVal?this.svgEls.activeArc.setAttribute("stroke",this.o.needleColor):this.svgEls.activeArc.setAttribute("stroke",this.o.activeColor)}},{key:"_calcArcStrokeWidth",value:function(){return this._calcDialRadius()/5}},{key:"_calcDialRadius",value:function(){var e=Math.min(this._getWidth(),this._getHeight())/2*.89;return e=Math.trunc(e)}},{key:"_calcNeedleAngle",value:function(){return this.o.maxVal-this.o.minVal!=0?(this.state.val-this.o.minVal)/(this.o.maxVal-this.o.minVal)*(1.7*Math.PI)+1.15*Math.PI:1.7*Math.PI*.5+1.15*Math.PI}},{key:"_calcNeedleCenter",value:function(){return{x:Math.trunc(this._getWidth()/2),y:Math.trunc(this._getHeight()/2)}}},{key:"_calcNeedleEnd",value:function(){return{x:this._calcNeedleCenter().x+Math.sin(this._calcNeedleAngle())*this._calcDialRadius(),y:this._calcNeedleCenter().y-Math.cos(this._calcNeedleAngle())*this._calcDialRadius()}}},{key:"_calcNeedleWidth",value:function(){return this._calcDialRadius()/5}},{key:"_calcSvgArcPath",value:function(e,t,n,i,o){var r=e+n*Math.cos(i),a=t+n*Math.sin(i),u=e+n*Math.cos(o),s=t+n*Math.sin(o);return["M",r,a,"A",n,n,0,o-i<Math.PI?0:1,(Math.PI,1),u,s].join(" ")}},{key:"_calcMovePrecision",value:function(){return(this.o.maxVal-this.o.minVal)/127}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={SVG_NS:"http://www.w3.org/2000/svg"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});i(n(0)),i(n(1));var o={getState:function(){return Object.assign({},this.state)},setInternalState:function(e){var t=this,n=!1;return e=e||this.getState(),Object.keys(e).forEach(function(i){t.state.hasOwnProperty(i)&&t.state[i]!==e[i]&&(t.state[i]=e[i],n=!0)}),t.stateConstraints.constrain(t.state),this._update(),n},setState:function(e){var t=!1;return t=this.setInternalState(e),this._notifyObservers(),t}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={_initOptions:function(e){var t=this;e=e||{},Object.keys(e).forEach(function(n){t.o.hasOwnProperty(n)&&t.o[n]!==e[n]&&(t.o[n]=e[n])})},getOptions:function(){return Object.assign({},this.o)},setOptions:function(e){var t=this;e=e||{};var n=!1;return Object.keys(e).forEach(function(i){t.o.hasOwnProperty(i)&&t.o[i]!==e[i]&&(t.o[i]=e[i],n=!0)}),n&&this.setState(),n}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={addObserver:function(e){var t=!1;return this.observers.find(function(t){return t===e})||(this.observers.push(e),t=!0),t},removeObserver:function(e){var t=this,n=!1;return this.observers.forEach(function(i,o){i===e&&(t.observers.splice(o,1),n=!0)}),n},_notifyObservers:function(){var e=this;this.observers.forEach(function(t){return t(e.getVal())})}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(2)),a=i(n(0)),u=i(n(1)),s=i(n(5)),c=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"_initOptions",value:function(e){this.o={minVal:0,maxVal:127,step:1,sliderBodyColor:"#484848",sliderHandleColor:"#484848",mouseSensitivity:1.2},function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initOptions",this).call(this,e),this.o.stepPrecision=s.default.getPrecision(this.o.step)}},{key:"_initStateConstraints",value:function(){var e=this;this.stateConstraints=new u.default({val:new a.default({min:e.o.minVal,max:e.o.maxVal,transform:function(t){return s.default.quantize(t,e.o.step,e.o.stepPrecision)}})})}},{key:"_initState",value:function(){this.state={val:this.o.minVal},this.dims={offsetBottom:5,offsetTop:5,bodyWidth:2,handleWidth:10,handleHeight:10}}},{key:"_initSvgEls",value:function(){this.svgEls={body:document.createElementNS(this.SVG_NS,"rect"),overlay:document.createElementNS(this.SVG_NS,"rect"),handle:document.createElementNS(this.SVG_NS,"polygon")},this._appendSvgEls(),this._update()}},{key:"_initHandlers",value:function(){var e=this;this.handlers={touchBody:function(t){t.preventDefault(),t.stopPropagation();var n=e._calcTouchVal(t.clientY);e.setState({val:n}),e.handlers.touchHandle(t)},touchHandle:function(t){t.preventDefault(),t.stopPropagation(),document.body.addEventListener("mousemove",e.handlers.moveHandle),document.body.addEventListener("touchmove",e.handlers.moveHandle),document.body.addEventListener("mouseup",e.handlers.releaseHandle),document.body.addEventListener("touchend",e.handlers.releaseHandle)},moveHandle:function(t){t.preventDefault(),t.stopPropagation();var n=e._calcTouchVal(t.clientY);e.setState({val:n})},releaseHandle:function(t){t.preventDefault(),t.stopPropagation(),document.body.removeEventListener("touchmove",e.handlers.moveHandle),document.body.removeEventListener("mousemove",e.handlers.moveHandle),document.body.removeEventListener("mouseup",e.handlers.releaseHandle),document.body.removeEventListener("touchend",e.handlers.releaseHandle)}},this.svgEls.overlay.addEventListener("mousedown",e.handlers.touchBody),this.svgEls.overlay.addEventListener("touchstart",e.handlers.touchBody),this.svgEls.handle.addEventListener("mousedown",e.handlers.touchHandle),this.svgEls.handle.addEventListener("touchstart",e.handlers.touchHandle)}},{key:"_update",value:function(){var e=this._calcSliderBodyPos();this.svgEls.body.setAttribute("x",e.x),this.svgEls.body.setAttribute("y",e.y),this.svgEls.body.setAttribute("width",this.dims.bodyWidth),this.svgEls.body.setAttribute("height",this._calcSliderBodyHeight()),this.svgEls.body.setAttribute("fill",this.o.sliderBodyColor),this.svgEls.overlay.setAttribute("x",e.x),this.svgEls.overlay.setAttribute("y",e.y),this.svgEls.overlay.setAttribute("width",this.dims.bodyWidth+this.dims.handleWidth),this.svgEls.overlay.setAttribute("height",this._calcSliderBodyHeight()),this.svgEls.overlay.setAttribute("fill","transparent");var t=this._calcSliderHandlePoints();this.svgEls.handle.setAttribute("points",t),this.svgEls.handle.setAttribute("fill",this.o.sliderHandleColor)}},{key:"getVal",value:function(){return this.state.val}},{key:"setInternalVal",value:function(e){this.setInternalState({val:e})}},{key:"setVal",value:function(e){this.setState({val:e})}},{key:"_calcSliderBodyPos",value:function(){return{x:this._getWidth()/2-1,y:this.dims.offsetTop}}},{key:"_calcSliderBodyHeight",value:function(){return this._getHeight()-this.dims.offsetTop-this.dims.offsetBottom}},{key:"_calcSliderBodyWidth",value:function(){return this.dims.bodyWidth}},{key:"_calcSliderHandlePoints",value:function(){var e=this._calcSliderBodyHeight(),t=this._getWidth()/2+1,n=e-this.state.val/(this.o.maxVal-this.o.minVal)*e+this.dims.offsetBottom,i=t+this.dims.handleWidth;return t+","+n+" "+i+","+(n-this.dims.handleHeight/2)+" "+i+","+(n+this.dims.handleHeight/2)}},{key:"_calcTouchVal",value:function(e){var t=this.o.maxVal-this.o.minVal;return(this._getHeight()-this._getRelativeY(e)-this.dims.offsetBottom)/this._calcSliderBodyHeight()*t+this.o.minVal}},{key:"_calcMovePrecision",value:function(){return(this.o.maxVal-this.o.minVal)/127}}]),t}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(16)),u=(i(n(6)),i(n(19))),s=i(n(17)),c=i(n(4)),l=i(n(7)),h=i(n(22)),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.AUDIO_CTX=void 0===t?new AudioContext:t,(0,u.default)(this.AUDIO_CTX),this.destination=this.AUDIO_CTX.destination}return r(e,[{key:"getContext",value:function(){return this.AUDIO_CTX}},{key:"getDestination",value:function(){return this.AUDIO_CTX.destination}},{key:"createAudioPatch",value:function(e){var t=this;e=e||{};var n={};try{if("object"!==o(e.modules))throw"Exception in initAudioPatch: no audio modules provided in initiation object";Object.keys(e.modules).forEach(function(i){var o=e.modules[i];if("string"==typeof o){var r=null;switch(o.toLowerCase().replace(/\W+/g,"")){case"channelstrip":r=t.createChannelStrip();break;case"destination":r=t.createDestination();break;case"envelope":r=t.createBiquadFilter();break;case"additivesynth":r=t.createAdditiveSynth();break;case"stereofeedbackdelay":case"delay":r=t.createStereoFeedbackDelay();break;case"biquadfilter":case"filter":r=t.createBiquadFilter();break;default:throw"Exception in initAudioPatch: no such module "+o}n[i]=r}}),"object"===o(e.connections)&&Array.isArray(e.connections)&&e.connections.forEach(function(e){for(var t=0;t<e.length-1;t++){var i=n[e[t]],o=n[e[t+1]];i.connect(o)}})}catch(e){console.log(e),n=null}return new a.default(n,t.AUDIO_CTX,t)}},{key:"createAdditiveSynth",value:function(e){return e=e||{},new s.default(this.AUDIO_CTX,e)}},{key:"createBiquadFilter",value:function(){return this.AUDIO_CTX.createBiquadFilter()}},{key:"createOscillator",value:function(){return this.AUDIO_CTX.createOscillator()}},{key:"createGain",value:function(){return this.AUDIO_CTX.createGain()}},{key:"createChannelStrip",value:function(e){return e=e||{},new c.default(this.AUDIO_CTX,e)}},{key:"createDestination",value:function(){return this.AUDIO_CTX.destination}},{key:"createEnvelope",value:function(e){return e=e||{},new l.default(this.AUDIO_CTX,e)}},{key:"createStereoFeedbackDelay",value:function(e){return e=e||{},new h.default(this.AUDIO_CTX,e)}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.MODULE_MAP=t,this.AUDIO_CTX=n,this.AUDIO_MODULE_MANAGER=i,this.modules=this.MODULE_MAP}return i(e,[{key:"getAudioContext",value:function(){return this.AUDIO_CTX}},{key:"getAudioCtx",value:function(){return this.getAudioContext()}},{key:"getModuleMap",value:function(){return this.MODULE_MAP}},{key:"modules",value:function(){return this.MODULE_MAP}},{key:"getAudioModuleManager",value:function(){return this.AUDIO_MODULE_MANAGER}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(18)),u=i(n(4)),s=i(n(6)),c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=n||{},this._audioCtx=t;var i=n.numVoices||16;this._numOvertones=n.numOvertones||20,this._voices=[],this._availableVoices=[],this._busyVoices=[],this._channelStrip=new u.default(this._audioCtx);for(var o=0;o<i;o++)this._voices.push(new a.default(this._audioCtx,{numOvertones:this._numOvertones})),this._voices[o].connect(this._channelStrip.input),this._availableVoices.push(o);this.output=this._channelStrip.output,this._audioModuleOutput=this.output}return r(e,[{key:"connect",value:function(e){"object"===o(e.input)?this.output.connect(e.input):this.output.connect(e)}},{key:"disconnect",value:function(e){"object"===o(e.input)?this.output.disconnect(e.input):this.output.disconnect(e)}},{key:"setNumVoices",value:function(e){this.numVoices=e}},{key:"setNumOvertones",value:function(e){this.numOvertones=e}},{key:"setGain",value:function(e){this.gain=e}},{key:"setPan",value:function(e){this.pan=e}},{key:"getOvertoneAmplitude",value:function(e,t){return this._voices[e].getOvertoneAmplitude(t),this}},{key:"setOvertoneAmplitude",value:function(e,t,n){return this._voices[e].setOvertoneAmplitude(t,n),this}},{key:"setOvertoneAttackEnvelope",value:function(e,t){return this._voices.forEach(function(n){n.setOvertoneAttackEnvelope(e,t)}),this}},{key:"setOvertoneReleaseEnvelope",value:function(e,t){return this._voices.forEach(function(n){n.setOvertoneReleaseEnvelope(e,t)}),this}},{key:"playNote",value:function(e){var t=-1,n=-1;"number"==typeof e&&e>=0&&e<=127?n=s.default.midiToFreq(e):"string"==typeof e&&!0===/^([a-g]|[A-G])(#|b)?([0-9]|10)$/.test(e)&&(e=s.default.noteNameToMidi(e),n=s.default.midiToFreq(e)),-1!==n&&(this._availableVoices.length>0?t=this._availableVoices.shift():(t=this._busyVoices.shift().voiceNum,this.releaseVoice(t)),this._busyVoices.push({voiceNum:t,note:e}),this.attackVoice(t,n))}},{key:"releaseNote",value:function(e){var t=-1;if("number"==typeof e&&e>=0&&e<=127||(e="string"==typeof e&&!0===/^([a-g]|[A-G])(#|b)?([0-9]|10)$/.test(e)?s.default.noteNameToMidi(e):-1),-1!==e){var n=this._busyVoices.findIndex(function(t){return t.note===e});-1!==n&&(t=this._busyVoices[n].voiceNum,this._availableVoices.push(t),this._busyVoices.splice(n,1))}if(-1===t)return this;this.releaseVoice(t)}},{key:"attackVoice",value:function(e,t){this._voices[e].setFrequency(t),this._voices[e].attack()}},{key:"releaseVoice",value:function(e){this._voices[e].release()}},{key:"numVoices",get:function(){return this._voices.length},set:function(e){var t=this;if(e>this.numVoices)for(var n=this.numVoices;n<e;n++)this._voices.push(new a.default(this._audioCtx,{numOvertones:this._numOvertones})),this._voices[n].connect(this._channelStrip.input),this._availableVoices.push(n);else if(e<this.numVoices){var i=function(e){for(var n=function(e){var n=t._availableVoices[e];t._voices.splice(n,1),t._availableVoices.splice(e,1),t._availableVoices=t._availableVoices.map(function(e){return e>n?e-1:e}),t._busyVoices=t._busyVoices.map(function(e){return{voiceNum:e.voiceNum>n?e.voiceNum-1:e.voiceNum,pitch:e.pitch}})},i=0;i<e;i++)n(i)},o=this.numVoices-e,r=this._availableVoices.length;if(o<=r)i(o);else{var u=o-r;i(r),function(e){for(var n=function(e){var n=t._busyVoices[e].voiceNum;t.releaseVoice(n),t._voices.splice(n,1),t._busyVoices.splice(e,1),t._busyVoices=t._busyVoices.map(function(e){return{voiceNum:e.voiceNum>n?e.voiceNum-1:e.voiceNum,pitch:e.pitch}})},i=0;i<e;i++)n(i)}(u)}}return console.log("newNumVoices: "+this.numVoices),this}},{key:"numOvertones",get:function(){return this._numOvertones},set:function(e){return this._voices.forEach(function(t){t.numOvertones=e}),this._numOvertones=e,this}},{key:"gain",get:function(){return this._channelStrip.outputGain},set:function(e){return this._channelStrip.outputGain=e,this}},{key:"pan",get:function(){return this._channelStrip.pan},set:function(e){return this._channelStrip.pan=e,this}},{key:"attackEnvelope",set:function(e){this._voices.forEach(function(t){t.attackEnvelope=e})}},{key:"releaseEnvelope",set:function(e){this._voices.forEach(function(t){t.releaseEnvelope=e})}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(4)),u=i(n(7)),s=i(n(21)),c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=n||{},this._audioCtx=t,this._channelStrip=new a.default(this._audioCtx),this._envelope=new u.default(this._audioCtx);var i=n.numOvertones||n.numberOfOvertones||20;this._overtones=[];for(var o=0;o<i;o++)this._overtones.push(new s.default(this._audioCtx)),this._overtones[o].connect(this._envelope.input),this._envelope.connect(this._channelStrip.input),this._overtones[o].gain=1/i;this.output=this._channelStrip.output,this._audioModuleOutput=this.output}return r(e,[{key:"connect",value:function(e){"object"===o(e.input)?this.output.connect(e.input):this.output.connect(e)}},{key:"disconnect",value:function(e){"object"===o(e.input)?this.output.disconnect(e.input):this.output.disconnect(e)}},{key:"setOptions",value:function(e){e=e||{},this.options=e}},{key:"setNumOvertones",value:function(e){this.numOvertones=e}},{key:"setFrequency",value:function(e){this.frequency=e}},{key:"setGain",value:function(e){this.gain=e}},{key:"setPan",value:function(e){this.pan=e}},{key:"getOvertoneAmplitude",value:function(e){return this._overtones[e].amplitude}},{key:"setOvertoneAmplitude",value:function(e,t){try{if(void 0===this._overtones[e])throw"Illegal overtone number";this._overtones[e].amplitude=t}catch(e){console.log(e)}return this}},{key:"setOvertoneAmplitudesByFormula",value:function(e){for(var t=this.numOvertones-1;t>=0;t--)this.setOvertoneAmplitude(t,e(t+1));return this}},{key:"setAttackEnvelope",value:function(e){this.attackEnvelope=e}},{key:"setReleaseEnvelope",value:function(e){this.releaseEnvelope=e}},{key:"setOvertoneAttackEnvelope",value:function(e,t){return this._overtones[e].attackEnvelope=t,this}},{key:"setOvertoneReleaseEnvelope",value:function(e,t){return this._overtones[e].releaseEnvelope=t,this}},{key:"attack",value:function(e){e&&(this.options=e);for(var t=this.numOvertones-1;t>=0;t--)this._overtones[t].attack();this._envelope.attack()}},{key:"release",value:function(){for(var e=this.numOvertones-1;e>=0;e--)this._overtones[e].release();this._envelope.release()}},{key:"options",get:function(){return{numOvertones:this.numOvertones,frequency:this.frequency,gain:this.gain,pan:this.pan}},set:function(e){return(e=e||{}).numOvertones&&(this.numOvertones=e.numOvertones),e.frequency&&(this.frequency=e.frequency),e.gain&&(this.gain=e.gain),e.pan&&(this.pan=e.pan),this}},{key:"numOvertones",get:function(){return this._overtones.length},set:function(e){if(e>this.numOvertones)for(var t=this.frequency,n=this.numOvertones;n<e&&(n+1)*t<this._audioCtx.sampleRate/2;n++)this._overtones.push(new s.default(this._audioCtx)),this._overtones[n].frequency=(n+1)*t,this._overtones[n].gain=1/e;else if(e<this.numOvertones)for(n=this.numOvertones;n>this.newNumOvertones;n--)this._overtones.pop(),this._overtones[n].gain=1/e;return this}},{key:"frequency",get:function(){return this._overtones[0].frequency},set:function(e){for(var t=this._audioCtx.sampleRate/2,n=this.numOvertones,i=this.numOvertones-1;i>=0;i--)(i+1)*e<t?(this._overtones[i].frequency=(i+1)*e,this._overtones[i].gain=1/n):this._overtones[i].gain=0;return this}},{key:"gain",get:function(){return this._channelStrip.outputGain},set:function(e){return this._channelStrip.outputGain=e,this}},{key:"pan",get:function(){return this._channelStrip.pan},set:function(e){return this._channelStrip.pan=e,this}},{key:"attackEnvelope",get:function(){return this._envelope.attackEnvelope},set:function(e){return this._envelope.attackEnvelope=e,this}},{key:"releaseEnvelope",get:function(){return this._envelope.releaseEnvelope},set:function(e){return this._envelope.releaseEnvelope=e,this}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.getPrototypeOf(Object.getPrototypeOf(e.createGain()));t.webAudioConnect=t.connect,t.webAudioDisconnect=t.disconnect,t.connect=function(e,t,n){!0===e.isAudioModule?this.webAudioConnect(e.input,t,n):this.webAudioConnect(e,t,n)},t.disconnect=function(e,t,n){!0===e.isAudioModule?this.webAudioDisconnect(e.input,t,n):this.webAudioDisconnect(e,t,n)},e.isWebAudioConnectShimmed=!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={_initOptions:function(e){var t=this;e=e||{},Object.keys(e).forEach(function(n){t.o.hasOwnProperty(n)&&t.o[n]!==e[n]&&(t.o[n]=e[n])})},getOptions:function(){return Object.assign({},this.o)},setOptions:function(e){var t=this;e=e||{};var n=!1;return Object.keys(e).forEach(function(i){t.o.hasOwnProperty(i)&&t.o[i]!==e[i]&&(t.o[i]=e[i],n=!0)}),n&&this.setState(),n}};t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(3)),u=i(n(4)),s=i(n(7)),c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n=n||{},i._audioCtx=e,i._oscillator=i._audioCtx.createOscillator(),i._envelope=new s.default(i._audioCtx),i._channelStrip=new u.default(i._audioCtx),i._oscillator.connect(i._envelope.input),i._envelope.connect(i._channelStrip.input),i._oscillator.start(),i.output=i._channelStrip.output,i._audioModuleOutput=i.output,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"connect",value:function(e){"object"===o(e.input)?this.output.connect(e.input):this.output.connect(e)}},{key:"disconnect",value:function(e){"object"===o(e.input)?this.output.disconnect(e.input):this.output.disconnect(e)}},{key:"attack",value:function(){this._envelope.attack()}},{key:"release",value:function(){this._envelope.release()}},{key:"frequency",get:function(){return this._oscillator.frequency},set:function(e){this._audioCtx.currentTime;return this._oscillator.frequency.value=e,this}},{key:"pan",get:function(){return this._channelStrip.pan},set:function(e){return this._channelStrip.pan=e,this}},{key:"amplitude",get:function(){return this._channelStrip.inputGain},set:function(e){return this._channelStrip.inputGain=e,this}},{key:"gain",get:function(){return this._channelStrip.outputGain},set:function(e){return this._channelStrip.outputGain=e,this}},{key:"attackEnvelope",get:function(){return this._envelope.attackEnvelope},set:function(e){return this._envelope.attackEnvelope=e,this}},{key:"releaseEnvelope",get:function(){return this._envelope.releaseEnvelope},set:function(e){return this._envelope.releaseEnvelope=e,this}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(3)),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);try{var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));void 0===i._audioCtx.createStereoPanner&&(i._audioCtx.createStereoPanner=function(){return new StereoPannerShim(this)}),n=n||{},i._audioCtx=e,i._maxDelayTime=n.maxDelayTime||10,i._input=i._audioCtx.createGain(),i._channelSplitter=i._audioCtx.createChannelSplitter(2),i._dryMixL=i._audioCtx.createGain(),i._dryMixR=i._audioCtx.createGain(),i._wetMixL=i._audioCtx.createGain(),i._wetMixR=i._audioCtx.createGain(),i._delayL=i._audioCtx.createDelay(i._maxDelayTime),i._delayR=i._audioCtx.createDelay(i._maxDelayTime),i._feedbackL=i._audioCtx.createGain(),i._feedbackR=i._audioCtx.createGain(),i._crossfeedL=i._audioCtx.createGain(),i._crossfeedR=i._audioCtx.createGain(),i._channelMerger=i._audioCtx.createChannelMerger(2),i._output=i._audioCtx.createGain(),i._connectAudioNodes(),i._setAudioDefaults(n),i.input=i._input,i.output=i._output}catch(e){throw console.error(e),new Error("Failed to create StereoFeedbackDelay audio module.")}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"_connectAudioNodes",value:function(){return this._input.connect(this._channelSplitter),this._channelSplitter.connect(this._dryMixL,0),this._channelSplitter.connect(this._dryMixR,1),this._channelSplitter.connect(this._delayL,0),this._channelSplitter.connect(this._delayR,1),this._delayL.connect(this._feedbackL),this._delayR.connect(this._feedbackR),this._feedbackL.connect(this._delayL),this._feedbackR.connect(this._delayR),this._delayL.connect(this._crossfeedR),this._delayR.connect(this._crossfeedL),this._crossfeedL.connect(this._delayL),this._crossfeedR.connect(this._delayR),this._delayL.connect(this._wetMixL),this._delayR.connect(this._wetMixR),this._dryMixL.connect(this._channelMerger,0,0),this._dryMixR.connect(this._channelMerger,0,1),this._wetMixL.connect(this._channelMerger,0,0),this._wetMixR.connect(this._channelMerger,0,1),this._channelMerger.connect(this._output),this}},{key:"_setAudioDefaults",value:function(e){return e=e||{},this._input.gain.value=1,this._delayL.delayTime.value=e.delayTimeL||.5,this._delayR.delayTime.value=e.delayTimeR||.5,this._dryMixL.gain.value=e.dryMixL||1,this._dryMixR.gain.value=e.dryMixR||1,this._wetMixL.gain.value=e.wetMixL||.2,this._wetMixR.gain.value=e.wetMixR||.2,this._feedbackL.gain.value=e.feedbackL||.1,this._feedbackR.gain.value=e.feedbackR||.1,this._crossfeedL.gain.value=e.crossfeedL||0,this._crossfeedR.gain.value=e.crossfeedR||0,this._output.gain.value=1,this}},{key:"connect",value:function(e){"object"===i(e.input)?this.output.connect(e.input):this.output.connect(e)}},{key:"disconnect",value:function(e){"object"===i(e.input)?this.output.disconnect(e.input):this.output.disconnect(e)}},{key:"delayTimeL",get:function(){return this._delayL.delayTime},set:function(e){return this._delayL.delayTime.value=e,this}},{key:"delayTimeR",get:function(){return this._delayR.delayTime},set:function(e){return this._delayR.delayTime.value=e,this}},{key:"feedbackL",get:function(){return this._feedbackL.gain},set:function(e){return this._feedbackL.gain.value=e,this}},{key:"feedbackR",get:function(){return this._feedbackR.gain},set:function(e){return this._feedbackR.gain.value=e,this}},{key:"crossfeedL",get:function(){return this._crossfeedL.gain},set:function(e){return this._crossfeedL.gain.value=e,this}},{key:"crossfeedR",get:function(){return this._crossfeedR.gain},set:function(e){return this._crossfeedR.gain.value=e,this}},{key:"dryMixL",get:function(){return this._dryMixL.gain},set:function(e){return this._dryMixL.gain.value=e,this}},{key:"dryMixR",get:function(){return this._dryMixR.gain},set:function(e){return this._dryMixR.gain.value=e,this}},{key:"wetMixL",get:function(){return this._wetMixL.gain},set:function(e){return this._wetMixL.gain.value=e,this}},{key:"wetMixR",get:function(){return this._wetMixR.gain},set:function(e){return this._wetMixR.gain.value=e,this}}]),t}();t.default=a},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(3)),a=i(n(8)),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=n;return function e(t){i.pan=new Number(t),Object.defineProperty(i.pan,"value",{set:function(t){t=(t=t>1?1:t)<-1?-1:t,i.audioComponents.gainL.gain.value=-t/2+.5,i.audioComponents.gainR.gain.value=t/2+.5,e(t)}})}(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"_initAudioComponents",value:function(){try{(0,a.default)(this.audioCtx,["Gain","ChannelMerger"]),this.audioComponents={gainL:this.audioCtx.createGain(),gainR:this.audioCtx.createGain(),merger:this.audioCtx.createChannelMerger(2)},this.input.connect(this.audioComponents.gainL),this.input.connect(this.audioComponents.gainR),this.audioComponents.gainL.connect(this.audioComponents.merger,0,0),this.audioComponents.gainR.connect(this.audioComponents.merger,0,1),this.audioComponents.merger.connect(this.output),console.log("initialized")}catch(e){console.error(e)}}}]),t}();t.default=u},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return 55*(e+3)}i(n(15)),i(n(3));var r=i(n(26)),a=i(n(4)),u=i(n(9)),s=i(n(14)),c=new AudioContext,l=c.destination;!function(){c.createStereoPanner=function(){return console.log("Creating stereo panner..."),new r.default(c)};var e=c.createStereoPanner(),t=c.createOscillator(),n=c.createGain();t.connect(e),e.connect(n),n.connect(l),n.gain.value=0,t.frequency.value=o(1),t.start();new u.default(document.getElementById("pan-dial"),{minVal:-1,maxVal:1,step:.01}).addObserver(function(t){e.pan.value=t}),document.getElementById("stereo-panner-audio-toggle").addEventListener("change",function(e){n.gain.value=e.target.checked?.5:0})}(),function(){var e=new a.default(c),t=c.createOscillator(),n=c.createGain();t.connect(e),e.connect(n),n.connect(l),n.gain.value=0,t.frequency.value=o(2),t.start(),document.querySelector(".channel-strip .audio-toggle").addEventListener("change",function(e){n.gain.value=e.target.checked?.5:0});new s.default(document.querySelector(".channel-strip .input-gain-slider"),{minVal:0,maxVal:1,step:.01}).addObserver(function(t){e.setInputGain(t)});new u.default(document.querySelector(".channel-strip .pan-dial"),{minVal:-1,maxVal:1,step:.01}).addObserver(function(t){e.setPan(t)});new s.default(document.querySelector(".channel-strip .output-gain-slider"),{minVal:0,maxVal:1,step:.01}).addObserver(function(t){e.setOutputGain(t)})}(),function(){var e=new a.default(c),t=c.createOscillator(),n=c.createGain();t.connect(e),e.connect(n),n.connect(l),n.gain.value=0,t.frequency.value=o(2),t.start(),document.querySelector(".channel-strip .audio-toggle").addEventListener("change",function(e){n.gain.value=e.target.checked?.5:0});new s.default(document.querySelector(".channel-strip .input-gain-slider"),{minVal:0,maxVal:1,step:.01}).addObserver(function(t){e.setInputGain(t)});new u.default(document.querySelector(".channel-strip .pan-dial"),{minVal:-1,maxVal:1,step:.01}).addObserver(function(t){e.setPan(t)});new s.default(document.querySelector(".channel-strip .output-gain-slider"),{minVal:0,maxVal:1,step:.01}).addObserver(function(t){e.setOutputGain(t)})}()}]);